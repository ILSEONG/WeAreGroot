<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
  <mapper namespace="kr.co.moran.web.order">
  
  		<select id="selectOrderAllByMid" parameterType="int" resultType="kr.co.moran.web.vo.OrderVO">
   			SELECT 
   				o_id, 
   				m_id, 
   				pd_id, 
   				o_date, 
   				o_total, 
   				o_cnt, 
   				o_status, 
   				o_memo, 
   				o_uuid 
   			FROM 
   				ORDERS WHERE m_id = #{mId}
   		</select>
   		
   		<select id="selectOrderByMidAndOid" parameterType="hashmap" resultType="kr.co.moran.web.vo.OrderVO">
   			SELECT 
   				o_id, 
   				m_id, 
   				pd_id, 
   				o_date, 
   				o_total, 
   				o_cnt, 
   				o_status, 
   				o_memo, 
   				o_uuid 
   			FROM 
   				ORDERS WHERE m_id = #{mId} AND o_id = #{oId}
   		</select>
   		
   		  <select id="selectOrderCancleAllByMid" parameterType="int" resultType="kr.co.moran.web.vo.OrderVO">
   			SELECT 
   				O.o_id, 
   				O.m_id, 
   				O.pd_id, 
   				O.o_date, 
   				O.o_total, 
   				O.o_cnt, 
   				O.o_status,
   				O.o_memo, 
   				O.o_uuid, 
   				C.oc_id, 
   				C.oc_reason, 
   				C.oc_date
			FROM 
				ORDER_CANCEL C, ORDERS O
			WHERE 
				C.o_id = O.o_id AND m_id = #{mId};
   		</select>
  </mapper>